<f:layout name="DefaultBackend" />

<f:section name="Content">
	<f:render partial="Module\FlashMessage" arguments="{severityName: flashmessage}"/>
	<f:form action="update" object="{category}" objectName="category" id="newsletterCategory"  arguments="{recipients: recipient}">
		<div class="neos-content neos-container-fluid">
			<legend>{category.title}</legend>
			<br />
			<div class="neos-control-group">
				<label class="neos-control-label" for="title"><f:translate id="lelesys.plugin.newsletter.title"></f:translate></label>
				<div class="neos-controls">
					<f:form.textfield property="title" id="title" class="required"/>
				</div>
			</div>
			<f:if condition="{recipients}">
				<div class="neos-control-group">
					<label class="neos-control-label" for="recipients"><f:translate id="lelesys.plugin.newsletter.recipients"></f:translate></label>
					<div class="neos-controls">
						<f:form.select options="{recipients}" optionLabelField="name" name="recipients[reciver]" id="recipients" multiple="true" value="{selectedRecipients}"></f:form.select>
					</div>
				</div>
			</f:if>
		</div>
		<div class="neos-form-actions neos-footer">
			<f:link.action action="index" class="neos-btn neos-button"><f:translate id="lelesys.plugin.newsletter.cancel"></f:translate></f:link.action>
			<div class="pull-right">
				<f:form.submit class="neos-btn neos-button-primary neos-button" value="Update" />
			</div>
		</div>
	</f:form>
	<f:render partial="Module/JavaScripts"/>
	<f:render partial="Module/StyleSheets"/>
</f:section>