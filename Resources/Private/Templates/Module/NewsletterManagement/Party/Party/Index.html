<f:layout name="DefaultBackend" />

<f:section name="Content">
	<div class="row neos-module-container indented">
		<f:render partial="Module\FlashMessage" arguments="{severityName: flashmessage}"/>
		<legend><f:translate id="lelesys.plugin.newsletter.createGroup"></f:translate></legend>
		<br />
		<f:if condition="{parties}">
			<f:then>
				<table class="neos-table">
					<thead>
						<tr>
							<th><f:translate id="lelesys.plugin.newsletter.title"></f:translate></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
					<f:for each="{parties}" as="party">
						<tr><td>{party.title}</td>
							<td>
								<div class="pull-right"><f:link.action action="show" arguments="{party: party}" class="neos-btn neos-button" title="Click to view">
										<i class="icon-info-sign icon-white"></i>
									</f:link.action>
									<f:link.action action="edit" arguments="{party: party}" class="neos-btn neos-button" title="Click to edit">
										<i class="icon-pencil icon-white"></i>
									</f:link.action>
									<f:form action="delete" arguments="{party: party}">
										<f:form.submit class="neos-btn neos-button neos-btn-danger" value="Delete" />
									</f:form>
								</div>
							</td>
						</tr>
					</f:for>
					</tbody>
				</table>
			</f:then>
			<f:else>
				<p><f:translate id="lelesys.plugin.newsletter.noGroup"></f:translate></p>
			</f:else>
		</f:if>
	</div>
	<div class="neos-form-actions neos-form-footer">
		<div class="pull-right">
			<f:link.action action="new" class="neos-btn neos-button neos-btn-primary" title="Create party">
				<i class="icon-user icon-white"></i>
				<f:translate id="lelesys.plugin.newsletter.createGroup"></f:translate>
			</f:link.action>
		</div>
	</div>
</f:section>