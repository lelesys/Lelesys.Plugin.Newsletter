{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="DefaultBackend" />

<f:section name="Content">
	<script type="text/javascript">
		var recipientUrl = '{neos:link.module(path: "newslettermanagement/person", action: "findrecipientbyname")}';
		var inputName = 'moduleArguments[newParty][recipients][]';
	</script>
	<f:render partial="Module\FlashMessage" arguments="{severityName: flashmessage}"/>
	<f:form action="create" objectName="newParty" id="party">
		<div class="neos-content neos-container-fluid">
			<legend><f:translate id="lelesys.plugin.newsletter.createGroup"></f:translate></legend>
			<br />
			<div class="neos-control-group">
				<label for="title"><f:translate id="lelesys.plugin.newsletter.title"></f:translate></label>
				<f:form.textfield property="title" id="title" class="required"/>
			</div>
		</div>
		<div class="neos-control-group">
			<label class="neos-control-label" for="recipients"><f:translate id="lelesys.plugin.newsletter.recipients"></f:translate></label>
			<div class="neos-controls">
				<input id="category-recipient">
			</div>
		</div>
		<div class="ui-widget">
			<label class="neos-control-label" for="recipients"><f:translate id="lelesys.plugin.newsletter.newsletterRecipients"></f:translate></label>
			<div id="log" style="height: 200px; width: 300px; overflow: auto;" class="ui-widget-content">
			</div>
		</div>
		<div class="neos-form-actions neos-footer">
			<f:link.action action="index" class="neos-btn neos-button"><f:translate id="lelesys.plugin.newsletter.cancel"></f:translate></f:link.action>
			<div class="pull-right">
				<f:form.submit class="neos-btn neos-button-primary neos-button" value="Create" />
			</div>
		</div>
	</f:form>
	<f:render partial="Module/JavaScripts"/>
	<f:render partial="Module/StyleSheets"/>
</f:section>